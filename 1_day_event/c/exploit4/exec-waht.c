#include <stdio.h>
#include <unistd.h>
#include <stdlib.h>
#include <string.h>

int main (int argc, char **argv) {
	
	char overwrite[24]="DC612 Day";
	char protection[12] ="DontBreakMe!";
	char buffer[128];
	int compare=9;

	printf ("\nWelcome to DC612 1-Day event!\n\nStack Overflow Lvl 4\n\n");
	printf ("Let's get a little tricky, what would you like to execute?\n");

	gets(buffer);

	if (strncmp(overwrite,"DC612 Day",compare)==0) {
		printf ("Sorry try again...\n");
		exit(0);
	} else {
		if (strncmp(protection,"DontBreakMe!",(compare+3))==0) {
			setuid(0);
			setgid(0);
			system(overwrite);
			exit(0);
		} else {
			printf ("Beware stack protections! Sorry.\n");
			exit(0);
		}
	}
	exit(1);

}
